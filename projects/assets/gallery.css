/* Thumbs */
.gallery{display:grid;gap:10px}
@media(min-width:800px){.gallery{grid-template-columns:repeat(3,minmax(0,1fr))}}
.gallery figure{margin:0;border:1px solid var(--muted);background:#06100690;cursor:zoom-in;overflow:hidden}
.gallery img {
  display:block;
  width:100%;
  height:180px; /* slightly taller, but consistent */
  object-fit:cover;
  border:1px solid var(--muted);
  transition:transform .2s;
}

.gallery figure:hover img{transform:scale(1.03)}

/* Lightbox */
.lb{position:fixed;inset:0;z-index:9999;display:none;background:rgba(0,0,0,.75)}
.lb[data-open="true"]{display:grid}
.lb__wrap{margin:auto;width:min(1100px,96vw);height:min(80vh,820px);display:grid;gap:12px;
  grid-template-columns:1fr 360px;background:#061006;border:1px solid var(--muted)}
@media(max-width:800px){.lb__wrap{grid-template-columns:1fr;height:88vh}}
.lb__img{position:relative;display:flex;align-items:center;justify-content:center;background:#000}
.lb__img img {
  max-width: 95%;
  max-height: 80vh; /* <= this keeps image inside viewport height */
  object-fit: contain;
  border: 1px solid var(--muted);
  border-radius: 4px;
  box-shadow: 0 0 10px rgba(0,255,100,0.3);
}

.lb__side{padding:12px;border-left:1px solid var(--muted);color:var(--fg);display:flex;flex-direction:column}
.lb__caption{white-space:pre-wrap}
.lb__meta{margin-top:auto;color:var(--dim);font-size:.9rem}
.lb__close{position:absolute;top:10px;right:10px;background:transparent;color:var(--fg);
  border:1px solid var(--muted);padding:2px 8px;cursor:pointer}
.lb__nav{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center;pointer-events:none}
.lb__btn{pointer-events:all;background:rgba(0,0,0,.4);border:1px solid var(--muted);color:var(--fg);
  cursor:pointer;padding:6px 10px;margin:10px}
